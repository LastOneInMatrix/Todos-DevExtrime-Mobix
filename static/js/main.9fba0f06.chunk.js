(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{351:function(t,e,n){t.exports={main:"App_main__2tEjO",sidebar:"App_sidebar__2u_wQ",content:"App_content__23UeV"}},406:function(t,e,n){},542:function(t,e,n){"use strict";n.r(e);var c=n(46),o=n.n(c),a=n(228),s=n.n(a),r=(n(406),n(8)),i=n(9),u=n(13),d=n(14),l=(n(373),n(351)),p=n.n(l),h=n(226),j=n(143),b=n.n(j),f=n(205),v=n(111),O=n(558),x=n(395),m=n.n(x).a.create({baseURL:"https://jsonplaceholder.typicode.com/",withCredentials:!0}),g=function(){return m.get("users").then((function(t){return t.data}))},w=function(){return m.get("todos").then((function(t){return t.data}))},y=function(t,e){return m.patch("/todos/".concat(t),e).then((function(t){return t.data}))},T=function(t){return m.delete("/todos/".concat(t)).then((function(t){return t.data}))},k=function(t,e){return m.post("/todos/",{title:e,userId:t}).then((function(t){return t.data}))},I=new(function(){function t(){Object(r.a)(this,t),this.users=[],this.userResponseStatus="",this.activeUser=null,Object(v.d)(this)}return Object(i.a)(t,[{key:"setActiveUser",value:function(t){this.activeUser=t}},{key:"getUsers",value:function(){var t=Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.setStatus("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),t.next=4,g();case 4:this.users=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 10:return t.prev=10,this.setStatus(""),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[0,7,10,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"setStatus",value:function(t){this.userResponseStatus=t}}]),t}()),S=new(function(){function t(){Object(r.a)(this,t),this.todos=[{userId:parseInt(Object(O.a)().split("-").join(""),16),id:129019203,title:"new",completed:!1}],this.activeTodoId={id:0,title:""},this.actionType="",Object(v.d)(this,{},{deep:!0})}return Object(i.a)(t,[{key:"fetchTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w();case 3:this.todos=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 9:return t.prev=9,console.log("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"),t.finish(9);case 12:case"end":return t.stop()}}),t,this,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"addTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(e){var n,c,o,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(null===(n=I.activeUser)||void 0===n?void 0:n.id),t.next=4,k(null!==(c=null===(o=I.activeUser)||void 0===o?void 0:o.id)&&void 0!==c?c:parseInt(Object(O.a)().split("-").join(""),16),e);case 4:a=t.sent,this.todos.unshift(Object(h.a)(Object(h.a)({},a),{},{completed:!1})),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,this,[[0,8,11,13]])})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e);case 3:this.todos=this.todos.filter((function(t){return t.id!==e})),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 9:return t.prev=9,t.finish(9);case 11:case"end":return t.stop()}}),t,this,[[0,6,9,11]])})));return function(e){return t.apply(this,arguments)}}()},{key:"completeTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(e,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(e,{completed:n});case 3:this.todos=this.todos.map((function(t){return t.id===e?Object(h.a)(Object(h.a)({},t),{},{completed:!t.completed}):t})),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 9:return t.prev=9,t.finish(9);case 11:case"end":return t.stop()}}),t,this,[[0,6,9,11]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"changeTitleForTask",value:function(){var t=Object(f.a)(b.a.mark((function t(e){var n=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(this.activeTodoId.id,{title:e});case 2:this.todos=this.todos.map((function(t){return t.id===n.activeTodoId.id?Object(h.a)(Object(h.a)({},t),{},{title:e}):t}));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setActiveTodoId",value:function(t,e){this.activeTodoId.id=t,this.activeTodoId.title=null!==e&&void 0!==e?e:""}},{key:"setActionType",value:function(t){this.actionType=t}}]),t}()),C=n(191),E=n(89),A=n(229),P=n.n(A),B=n(215),U=n.n(B),F=n(358),_=n(359),D=n(396),M=n(281),N=n(56),R=Object(C.a)((function(t){var e=Object(c.useState)(""),n=Object(E.a)(e,2),o=n[0],a=n[1];Object(c.useEffect)((function(){var t;return a(null!==(t=S.activeTodoId.title)&&void 0!==t?t:""),function(){}}),[S.activeTodoId.title]);return Object(N.jsx)("form",{action:"your-action",onSubmit:function(e){var n="Add"===t.actionType?"addTodo":"changeTitleForTask";S[n](o).catch((function(t){return console.log(t)})),t.togglePopup(),e.preventDefault(),S.activeTodoId.title=""},children:Object(N.jsxs)(M.Form,{children:[Object(N.jsx)(M.SimpleItem,{dataField:"Title",children:Object(N.jsx)(D.TextBox,{value:o,onValueChanged:function(t){var e=t.value;a(e)},placeholder:"Please type title for task"})}),Object(N.jsx)(P.a,{id:"button",text:"Change Task Status",type:"success",className:"dx-field-item",useSubmitBehavior:!0}),Object(N.jsx)(M.ButtonItem,{buttonOptions:{text:"Submit the Form",useSubmitBehavior:!0}})]})})})),V=Object(C.a)((function(t){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)(_.Popup,{title:"".concat(t.actionType," task"),visible:t.isPopupVisible,closeOnOutsideClick:!0,onHiding:t.togglePopup,width:500,height:250,resizeEnabled:!0,contentRender:function(){return Object(N.jsx)(R,{actionType:t.actionType,togglePopup:t.togglePopup})}})})})),L=n(224),J=n.n(L),z=n(203),H=n(93),Q={display:"flex",justifyContent:"space-between"},q=Object(C.a)((function(t){return Object(N.jsxs)("div",{style:Q,children:[Object(N.jsxs)("div",{children:[Object(N.jsx)(F.CheckBox,{value:t.data.data.completed,onValueChange:function(){S.setActiveTodoId(t.data.data.id),S.completeTodo(S.activeTodoId.id,!t.data.data.completed).catch((function(t){return console.log(t)}))}}),t.data.data.title]}),Object(N.jsxs)("div",{children:[Object(N.jsx)(P.a,{width:45,style:{margin:"10px"},icon:"rename",onClick:function(){S.setActionType("Change"),t.togglePopup(),S.setActiveTodoId(t.data.data.id,t.data.data.title)}}),Object(N.jsx)(P.a,{width:45,icon:"trash",type:"danger",onClick:function(){return S.deleteTodo(Object(v.h)(t.data.data.id))}})]})]})}));function G(){var t;return Object(N.jsxs)("div",{className:"toolbar-label",children:[Object(N.jsx)("b",{children:"Todo's for"})," ",null===(t=I.activeUser)||void 0===t?void 0:t.name]})}var K=function(t){var e=Object(H.g)(),n={type:"back",onClick:function(){e.push("/"),S.todos=[],Object(z.a)("\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043d\u0430 \u044e\u0437\u0435\u0440\u043e\u0432")}},o=Object(c.useState)(!1),a=Object(E.a)(o,2),s=a[0],r=a[1],i=function(){r(!s)},u={icon:"plus",onClick:function(){S.setActionType("Add"),r(!s)}};return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)(J.a,{children:[Object(N.jsx)(L.Item,{location:"before",widget:"dxButton",options:n}),Object(N.jsx)(L.Item,{location:"before",widget:"dxButton",options:W}),Object(N.jsx)(L.Item,{location:"after",locateInMenu:"auto",widget:"dxButton",options:u}),Object(N.jsx)(L.Item,{location:"center",locateInMenu:"never",render:G})]}),Object(N.jsx)(U.a,{height:"100vh",searchMode:"contains",searchExpr:["title"],searchEnabled:!0,itemComponent:function(t){return Object(N.jsx)(q,{data:t,togglePopup:i})},dataSource:t.todos,selectionMode:"multiple",pageLoadMode:"nextButton",scrollByContent:!0,showScrollbar:"never",style:{padding:"22px",margin:"10px"},children:Object(N.jsx)(B.ItemDragging,{allowReordering:!0})}),Object(N.jsx)(V,{actionType:S.actionType,isPopupVisible:s,togglePopup:i})]})},W={icon:"refresh",onClick:function(){Object(z.a)("\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435!")}},X=Object(C.a)((function(){var t=Object(H.h)();Object(c.useEffect)((function(){S.fetchTodo().catch((function(t){return console.log(t)}))}),[]);var e=S.todos.filter((function(e){return e.userId===+t.userId}));return Object(N.jsx)(N.Fragment,{children:Object(N.jsx)(K,{todos:e})})})),Y=n(401),Z={display:"flex",justifyContent:"space-between"},$=function(t){return Object(N.jsxs)("pre",{style:Z,children:[Object(N.jsx)("b",{children:t.data.name}),Object(N.jsxs)("b",{children:["Users id: ",t.data.id]})]})},tt=Object(C.a)((function(t){var e=Object(c.useState)(""),n=Object(E.a)(e,2),o=n[0],a=n[1];Object(c.useEffect)((function(){I.getUsers().catch((function(t){I.setStatus(t)}))}),[]);var s=Object(c.useMemo)((function(){return I.users.map((function(t){return{id:t.id,name:t.name}}))}),[I.users]);return""!==o?Object(N.jsx)(H.a,{to:"/todos/".concat(o)}):(I.userResponseStatus&&Object(z.a)({message:I.userResponseStatus,width:200,height:50,shading:!0}),Object(N.jsxs)("div",{children:[Object(N.jsx)("b",{children:" \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044e\u0437\u0435\u0440\u0430 "}),Object(N.jsx)(U.a,{height:"100vh",dataSource:s,itemComponent:$,onItemClick:function(t){var e=t.itemData;Object(Y.a)(t,["itemData"]);I.setActiveUser(e),a(e.id)},children:Object(N.jsx)(B.MenuItem,{text:"Show Details",action:function(t){var e=t.itemData;Object(z.a)({message:"Name: ".concat(e.name," ID: ").concat(e.id),width:250,height:250,shading:!0},"info",2e3)}})})]}))})),et=n(400),nt=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(N.jsx)(et.a,{children:Object(N.jsxs)("div",{className:p.a.main,children:[Object(N.jsx)("div",{className:p.a.sidebar}),Object(N.jsx)("div",{className:p.a.content,children:Object(N.jsxs)(H.d,{children:[Object(N.jsx)(H.b,{exact:!0,path:"/",render:function(){return Object(N.jsx)(tt,{})}}),Object(N.jsx)(H.b,{exact:!0,path:"/todos/:userId?",render:function(){return Object(N.jsx)(X,{})}})]})})]})})}}]),n}(o.a.Component),ct=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,559)).then((function(e){var n=e.getCLS,c=e.getFID,o=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),c(t),o(t),a(t),s(t)}))};s.a.render(Object(N.jsx)(o.a.StrictMode,{children:Object(N.jsx)(nt,{})}),document.getElementById("root")),ct()}},[[542,1,2]]]);
//# sourceMappingURL=main.9fba0f06.chunk.js.map