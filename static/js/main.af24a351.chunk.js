(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{351:function(t,e,n){t.exports={main:"App_main__2tEjO",sidebar:"App_sidebar__2u_wQ",buttonsBlock:"App_buttonsBlock__6zcgR"}},406:function(t,e,n){},542:function(t,e,n){"use strict";n.r(e);var o=n(46),c=n.n(o),a=n(228),s=n.n(a),r=(n(406),n(8)),i=n(9),u=n(13),d=n(14),l=(n(373),n(351)),p=n.n(l),h=n(226),j=n(143),b=n.n(j),f=n(205),v=n(111),O=n(558),x=n(395),m=n.n(x).a.create({baseURL:"https://jsonplaceholder.typicode.com/",withCredentials:!0}),g=function(){return m.get("users").then((function(t){return t.data}))},w=function(){return m.get("todos").then((function(t){return t.data}))},y=function(t,e){return m.patch("/todos/".concat(t),e).then((function(t){return t.data}))},k=function(t){return m.delete("/todos/".concat(t)).then((function(t){return t.data}))},T=function(t,e){return m.post("/todos/",{title:e,userId:t}).then((function(t){return t.data}))},I=new(function(){function t(){Object(r.a)(this,t),this.users=[],this.userResponseStatus="",this.activeUser=null,Object(v.d)(this)}return Object(i.a)(t,[{key:"setActiveUser",value:function(t){this.activeUser=t}},{key:"getUsers",value:function(){var t=Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.setStatus("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),t.next=4,g();case 4:this.users=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 10:return t.prev=10,this.setStatus(""),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[0,7,10,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"setStatus",value:function(t){this.userResponseStatus=t}}]),t}()),S=new(function(){function t(){Object(r.a)(this,t),this.todos=[{userId:parseInt(Object(O.a)().split("-").join(""),16),id:129019203,title:"new",completed:!1}],this.activeTodoId={id:0,title:""},this.actionType="",Object(v.d)(this,{},{deep:!0})}return Object(i.a)(t,[{key:"fetchTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w();case 3:this.todos=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 9:return t.prev=9,console.log("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"),t.finish(9);case 12:case"end":return t.stop()}}),t,this,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"addTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(e){var n,o,c,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(null===(n=I.activeUser)||void 0===n?void 0:n.id),t.next=4,T(null!==(o=null===(c=I.activeUser)||void 0===c?void 0:c.id)&&void 0!==o?o:parseInt(Object(O.a)().split("-").join(""),16),e);case 4:a=t.sent,this.todos.unshift(Object(h.a)(Object(h.a)({},a),{},{completed:!1})),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,this,[[0,8,11,13]])})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(e);case 3:this.todos=this.todos.filter((function(t){return t.id!==e})),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 9:return t.prev=9,t.finish(9);case 11:case"end":return t.stop()}}),t,this,[[0,6,9,11]])})));return function(e){return t.apply(this,arguments)}}()},{key:"completeTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(e,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(e,{completed:n});case 3:this.todos=this.todos.map((function(t){return t.id===e?Object(h.a)(Object(h.a)({},t),{},{completed:!t.completed}):t})),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 9:return t.prev=9,t.finish(9);case 11:case"end":return t.stop()}}),t,this,[[0,6,9,11]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"changeTitleForTask",value:function(){var t=Object(f.a)(b.a.mark((function t(e){var n=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(this.activeTodoId.id,{title:e});case 2:this.todos=this.todos.map((function(t){return t.id===n.activeTodoId.id?Object(h.a)(Object(h.a)({},t),{},{title:e}):t}));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setActiveTodoId",value:function(t,e){this.activeTodoId.id=t,this.activeTodoId.title=null!==e&&void 0!==e?e:""}},{key:"setActionType",value:function(t){this.actionType=t}}]),t}()),C=n(191),E=n(89),B=n(229),A=n.n(B),P=n(215),U=n.n(P),F=n(358),_=n(359),D=n(396),M=n(281),R=n(58),N=Object(C.a)((function(t){var e,n=Object(o.useState)(null!==(e=S.activeTodoId.title)&&void 0!==e?e:""),c=Object(E.a)(n,2),a=c[0],s=c[1];return Object(R.jsx)("form",{action:"your-action",onSubmit:function(e){var n="Add"===t.actionType?"addTodo":"changeTitleForTask";S[n](a).catch((function(t){return console.log(t)})),t.togglePopup(),e.preventDefault()},children:Object(R.jsxs)(M.Form,{children:[Object(R.jsx)(M.SimpleItem,{dataField:"Title",children:Object(R.jsx)(D.TextBox,{defaultValue:a,onOptionChanged:function(t){s(t.value)},placeholder:"Please type title for task"})}),Object(R.jsx)(A.a,{id:"button",text:"Change Task Status",type:"success",className:"dx-field-item",useSubmitBehavior:!0}),Object(R.jsx)(M.ButtonItem,{buttonOptions:{text:"Submit the Form",useSubmitBehavior:!0}})]})})})),L=Object(C.a)((function(t){return Object(R.jsx)("div",{className:"App",children:Object(R.jsx)(_.Popup,{title:"".concat(t.actionType," task"),visible:t.isPopupVisible,closeOnOutsideClick:!0,onHiding:t.togglePopup,width:500,height:250,resizeEnabled:!0,contentRender:function(){return Object(R.jsx)(N,{actionType:t.actionType,togglePopup:t.togglePopup,id:S.activeTodoId})}})})})),V=n(224),z=n.n(V),J=n(203),H=n(93),Q=Object(C.a)((function(t){return Object(R.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[Object(R.jsxs)("div",{children:[Object(R.jsx)(F.CheckBox,{value:t.data.data.completed,onValueChange:function(){S.setActiveTodoId(t.data.data.id),S.completeTodo(S.activeTodoId.id,!t.data.data.completed).catch((function(t){return console.log(t)}))}}),t.data.data.title]}),Object(R.jsxs)("div",{children:[Object(R.jsx)(A.a,{width:45,style:{margin:"10px"},icon:"rename",onClick:function(){S.setActionType("Change"),t.togglePopup(t.data.data.id),S.setActiveTodoId(t.data.data.id,t.data.data.title)}}),Object(R.jsx)(A.a,{width:45,icon:"trash",type:"danger",onClick:function(){return S.deleteTodo(Object(v.h)(t.data.data.id))}})]})]})}));function q(){var t;return Object(R.jsxs)("div",{className:"toolbar-label",children:[Object(R.jsx)("b",{children:"Todo's for"})," ",null===(t=I.activeUser)||void 0===t?void 0:t.name]})}var G=function(t){var e=Object(H.g)(),n={type:"back",onClick:function(){e.push("/"),S.todos=[],Object(J.a)("\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043d\u0430 \u044e\u0437\u0435\u0440\u043e\u0432")}},a=Object(o.useState)(!1),s=Object(E.a)(a,2),r=s[0],i=s[1],u=function(){i(!r)},d={icon:"plus",onClick:function(){S.setActionType("Add"),i(!r)}};return Object(R.jsxs)(c.a.Fragment,{children:[Object(R.jsxs)(z.a,{children:[Object(R.jsx)(V.Item,{location:"before",widget:"dxButton",options:n}),Object(R.jsx)(V.Item,{location:"before",widget:"dxButton",options:K}),Object(R.jsx)(V.Item,{location:"after",locateInMenu:"auto",widget:"dxButton",options:d}),Object(R.jsx)(V.Item,{location:"center",locateInMenu:"never",render:q})]}),Object(R.jsx)(U.a,{height:"100vh",searchMode:"contains",searchExpr:["title"],searchEnabled:!0,itemComponent:function(t){return Object(R.jsx)(Q,{data:t,togglePopup:u})},dataSource:t.todos,selectionMode:"multiple",pageLoadMode:"nextButton",scrollByContent:!0,showScrollbar:"never",style:{padding:"22px",margin:"10px"},children:Object(R.jsx)(P.ItemDragging,{allowReordering:!0})}),Object(R.jsx)(L,{actionType:S.actionType,isPopupVisible:r,togglePopup:u})]})},K={icon:"refresh",onClick:function(){Object(J.a)("\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435!")}},W=Object(C.a)((function(){var t=Object(H.h)();Object(o.useEffect)((function(){S.fetchTodo().catch((function(t){return console.log(t)}))}),[]);var e=S.todos.filter((function(e){return e.userId===+t.userId}));return console.log(e),Object(R.jsx)(R.Fragment,{children:Object(R.jsx)(G,{todos:e})})})),X=n(401),Y={display:"flex",justifyContent:"space-between"},Z=function(t){return Object(R.jsxs)("pre",{style:Y,children:[Object(R.jsx)("b",{children:t.data.name}),Object(R.jsxs)("b",{children:["Users id: ",t.data.id]})]})},$=Object(C.a)((function(t){var e=Object(o.useState)(""),n=Object(E.a)(e,2),c=n[0],a=n[1];Object(o.useEffect)((function(){I.getUsers().catch((function(t){I.setStatus(t)}))}),[]);var s=Object(o.useMemo)((function(){return I.users.map((function(t){return{id:t.id,name:t.name}}))}),[I.users]);return""!==c?Object(R.jsx)(H.a,{to:"/todos/".concat(c)}):(I.userResponseStatus&&Object(J.a)({message:I.userResponseStatus,width:200,height:50,shading:!0}),Object(R.jsxs)("div",{children:[Object(R.jsx)("b",{children:" \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044e\u0437\u0435\u0440\u0430 "}),Object(R.jsx)(U.a,{height:"100vh",dataSource:s,itemComponent:Z,onItemClick:function(t){var e=t.itemData;Object(X.a)(t,["itemData"]);I.setActiveUser(e),a(e.id)},children:Object(R.jsx)(P.MenuItem,{text:"Show Details",action:function(t){var e=t.itemData;Object(J.a)({message:"Name: ".concat(e.name," ID: ").concat(e.id),width:250,height:250,shading:!0},"info",2e3)}})}),"There will be User"]}))})),tt=n(400),et=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(R.jsx)(tt.a,{children:Object(R.jsxs)("div",{className:p.a.main,children:[Object(R.jsx)("div",{className:p.a.sidebar}),Object(R.jsx)("div",{className:p.a.buttonsBlock,children:Object(R.jsxs)(H.d,{children:[Object(R.jsx)(H.b,{exact:!0,path:"/",render:function(){return Object(R.jsx)($,{})}}),Object(R.jsx)(H.b,{exact:!0,path:"/todos/:userId?",render:function(){return Object(R.jsx)(W,{})}})]})})]})})}}]),n}(c.a.Component),nt=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,559)).then((function(e){var n=e.getCLS,o=e.getFID,c=e.getFCP,a=e.getLCP,s=e.getTTFB;n(t),o(t),c(t),a(t),s(t)}))};s.a.render(Object(R.jsx)(c.a.StrictMode,{children:Object(R.jsx)(et,{})}),document.getElementById("root")),nt()}},[[542,1,2]]]);
//# sourceMappingURL=main.af24a351.chunk.js.map