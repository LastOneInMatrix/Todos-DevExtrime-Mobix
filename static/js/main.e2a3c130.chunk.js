(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{351:function(t,e,n){t.exports={main:"App_main__2tEjO",sidebar:"App_sidebar__2u_wQ",content:"App_content__23UeV"}},352:function(t,e,n){t.exports={main:"users_main__3O3RZ",title:"users_title__2rcFB",container:"users_container__2opSq"}},373:function(t,e,n){t.exports={container:"testList_container__vjLnN",taskText:"testList_taskText__1h9Vv"}},400:function(t,e,n){t.exports={container:"popup_container__15D_l"}},409:function(t,e,n){},545:function(t,e,n){"use strict";n.r(e);var c=n(46),a=n.n(c),o=n(228),s=n.n(o),r=(n(409),n(8)),i=n(9),u=n(13),d=n(14),l=(n(375),n(351)),p=n.n(l),h=n(226),j=n(143),b=n.n(j),f=n(205),v=n(111),O=n(561),x=n(397),m=n.n(x).a.create({baseURL:"https://jsonplaceholder.typicode.com/",withCredentials:!0}),g=function(){return m.get("users").then((function(t){return t.data}))},w=function(){return m.get("todos").then((function(t){return t.data}))},T=function(t,e){return m.patch("/todos/".concat(t),e).then((function(t){return t.data}))},y=function(t){return m.delete("/todos/".concat(t)).then((function(t){return t.data}))},k=function(t,e){return m.post("/todos/",{title:e,userId:t}).then((function(t){return t.data}))},I=new(function(){function t(){Object(r.a)(this,t),this.users=[],this.userResponseStatus="",this.activeUser=null,Object(v.d)(this)}return Object(i.a)(t,[{key:"setActiveUser",value:function(t){this.activeUser=t}},{key:"getUsers",value:function(){var t=Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.setStatus("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."),t.next=4,g();case 4:this.users=t.sent,t.next=10;break;case 7:throw t.prev=7,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 10:return t.prev=10,this.setStatus(""),t.finish(10);case 13:case"end":return t.stop()}}),t,this,[[0,7,10,13]])})));return function(){return t.apply(this,arguments)}}()},{key:"setStatus",value:function(t){this.userResponseStatus=t}}]),t}()),_=new(function(){function t(){Object(r.a)(this,t),this.todos=[{userId:parseInt(Object(O.a)().split("-").join(""),16),id:129019203,title:"new",completed:!1}],this.activeTodoId={id:0,title:""},this.actionType="",Object(v.d)(this,{},{deep:!0})}return Object(i.a)(t,[{key:"fetchTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w();case 3:this.todos=t.sent,t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 9:return t.prev=9,console.log("\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u043e\u043a\u043e\u043d\u0447\u0435\u043d\u0430"),t.finish(9);case 12:case"end":return t.stop()}}),t,this,[[0,6,9,12]])})));return function(){return t.apply(this,arguments)}}()},{key:"addTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(e){var n,c,a,o;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,console.log(null===(n=I.activeUser)||void 0===n?void 0:n.id),t.next=4,k(null!==(c=null===(a=I.activeUser)||void 0===a?void 0:a.id)&&void 0!==c?c:parseInt(Object(O.a)().split("-").join(""),16),e);case 4:o=t.sent,this.todos.unshift(Object(h.a)(Object(h.a)({},o),{},{completed:!1})),t.next=11;break;case 8:throw t.prev=8,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 11:return t.prev=11,t.finish(11);case 13:case"end":return t.stop()}}),t,this,[[0,8,11,13]])})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(e){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,y(e);case 3:this.todos=this.todos.filter((function(t){return t.id!==e})),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 9:return t.prev=9,t.finish(9);case 11:case"end":return t.stop()}}),t,this,[[0,6,9,11]])})));return function(e){return t.apply(this,arguments)}}()},{key:"completeTodo",value:function(){var t=Object(f.a)(b.a.mark((function t(e,n){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e,{completed:n});case 3:this.todos=this.todos.map((function(t){return t.id===e?Object(h.a)(Object(h.a)({},t),{},{completed:!t.completed}):t})),t.next=9;break;case 6:throw t.prev=6,t.t0=t.catch(0),t.t0.response?new Error("\u0421\u0442\u0430\u0442\u0443\u0441 ".concat(t.t0.response.status)):new Error(t.t0.message+", more details in the console");case 9:return t.prev=9,t.finish(9);case 11:case"end":return t.stop()}}),t,this,[[0,6,9,11]])})));return function(e,n){return t.apply(this,arguments)}}()},{key:"changeTitleForTask",value:function(){var t=Object(f.a)(b.a.mark((function t(e){var n=this;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,T(this.activeTodoId.id,{title:e});case 2:this.todos=this.todos.map((function(t){return t.id===n.activeTodoId.id?Object(h.a)(Object(h.a)({},t),{},{title:e}):t}));case 3:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"setActiveTodoId",value:function(t,e){this.activeTodoId.id=t,this.activeTodoId.title=null!==e&&void 0!==e?e:""}},{key:"setActionType",value:function(t){this.actionType=t}}]),t}()),S=n(191),C=n(89),E=n(229),A=n.n(E),B=n(215),N=n.n(B),P=n(359),F=n(360),U=n(398),D=n(281),M=n(400),R=n.n(M),L=n(56),V=Object(S.a)((function(t){var e=Object(c.useState)(""),n=Object(C.a)(e,2),a=n[0],o=n[1];Object(c.useEffect)((function(){var t;return o(null!==(t=_.activeTodoId.title)&&void 0!==t?t:""),function(){o("")}}),[_.activeTodoId.title]);return Object(L.jsx)("form",{action:"action",onSubmit:function(e){var n="Add"===t.actionType?"addTodo":"changeTitleForTask";_[n](a).catch((function(t){return console.log(t)})),t.togglePopup(),e.preventDefault(),_.activeTodoId.title=""},children:Object(L.jsxs)(D.Form,{children:[Object(L.jsx)(D.SimpleItem,{dataField:"Title",children:Object(L.jsx)(U.TextBox,{value:a,onValueChanged:function(t){var e=t.value;o(e)},placeholder:"Please type title for task"})}),Object(L.jsx)(A.a,{id:"button",text:"Change Task Status",type:"success",className:"dx-field-item",useSubmitBehavior:!0}),Object(L.jsx)(D.ButtonItem,{buttonOptions:{text:"Submit the Form",useSubmitBehavior:!0}})]})})})),J=Object(S.a)((function(t){return Object(L.jsx)("div",{className:R.a.container,children:Object(L.jsx)(F.Popup,{title:"".concat(t.actionType," task"),visible:t.isPopupVisible,closeOnOutsideClick:!0,onHiding:t.togglePopup,resizeEnabled:!0,contentRender:function(){return Object(L.jsx)(V,{actionType:t.actionType,togglePopup:t.togglePopup})}})})})),q=n(224),z=n.n(q),H=n(203),Q=n(93),Z=n(373),G=n.n(Z),K=Object(S.a)((function(t){return Object(L.jsxs)("div",{className:G.a.container,children:[Object(L.jsxs)("div",{className:G.a.taskText,children:[Object(L.jsx)(P.CheckBox,{value:t.data.data.completed,onValueChange:function(){_.setActiveTodoId(t.data.data.id),_.completeTodo(_.activeTodoId.id,!t.data.data.completed).catch((function(t){return console.log(t)}))}}),Object(L.jsx)("p",{children:t.data.data.title})]}),Object(L.jsxs)("div",{children:[Object(L.jsx)(A.a,{width:45,style:{margin:"10px"},icon:"rename",onClick:function(){_.setActionType("Change"),t.togglePopup(),_.setActiveTodoId(t.data.data.id,t.data.data.title)}}),Object(L.jsx)(A.a,{width:45,icon:"trash",type:"danger",onClick:function(){return _.deleteTodo(Object(v.h)(t.data.data.id))}})]})]})}));function W(){var t;return Object(L.jsxs)("div",{className:"toolbar-label",children:[Object(L.jsx)("b",{children:"Todo's for"})," ",null===(t=I.activeUser)||void 0===t?void 0:t.name]})}var X=function(t){var e=Object(Q.g)(),n={type:"back",onClick:function(){e.push("/"),_.todos=[],Object(H.a)("\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u0432\u043e\u0437\u0432\u0440\u0430\u0442 \u043d\u0430 \u044e\u0437\u0435\u0440\u043e\u0432")}},a=Object(c.useState)(!1),o=Object(C.a)(a,2),s=o[0],r=o[1],i=function(){r(!s)},u={icon:"plus",onClick:function(){_.setActionType("Add"),r(!s)}};return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsxs)(z.a,{children:[Object(L.jsx)(q.Item,{location:"before",widget:"dxButton",options:n}),Object(L.jsx)(q.Item,{location:"before",widget:"dxButton",options:Y}),Object(L.jsx)(q.Item,{location:"after",locateInMenu:"auto",widget:"dxButton",options:u}),Object(L.jsx)(q.Item,{location:"center",locateInMenu:"never",render:W})]}),Object(L.jsx)(N.a,{height:"100vh",searchMode:"contains",searchExpr:["title"],searchEnabled:!0,itemComponent:function(t){return Object(L.jsx)(K,{data:t,togglePopup:i})},dataSource:t.todos,selectionMode:"multiple",pageLoadMode:"nextButton",scrollByContent:!0,showScrollbar:"never",style:{padding:"22px",margin:"10px"},children:Object(L.jsx)(B.ItemDragging,{allowReordering:!0})}),Object(L.jsx)(J,{actionType:_.actionType,isPopupVisible:s,togglePopup:i})]})},Y={icon:"refresh",onClick:function(){Object(H.a)("\u0417\u0434\u0435\u0441\u044c \u0431\u0443\u0434\u0435\u0442 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435!")}},$=Object(S.a)((function(){var t=Object(Q.h)();Object(c.useEffect)((function(){_.fetchTodo().catch((function(t){return console.log(t)}))}),[]);var e=_.todos.filter((function(e){return e.userId===+t.userId}));return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)(X,{todos:e})})})),tt=n(404),et=n(352),nt=n.n(et),ct={display:"flex",justifyContent:"space-between"},at=function(t){return Object(L.jsxs)("pre",{style:ct,children:[Object(L.jsx)("b",{children:t.data.name}),Object(L.jsxs)("b",{children:["Users id: ",t.data.id]})]})},ot=Object(S.a)((function(t){var e=Object(c.useState)(""),n=Object(C.a)(e,2),a=n[0],o=n[1];Object(c.useEffect)((function(){I.getUsers().catch((function(t){I.setStatus(t)}))}),[]);var s=Object(c.useMemo)((function(){return I.users.map((function(t){return{id:t.id,name:t.name}}))}),[I.users]);return""!==a?Object(L.jsx)(Q.a,{to:"/todos/".concat(a)}):(I.userResponseStatus&&Object(H.a)({message:I.userResponseStatus,width:200,height:50,shading:!0}),Object(L.jsxs)("div",{className:nt.a.main,children:[Object(L.jsx)("h3",{className:nt.a.title,children:" \u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u044e\u0437\u0435\u0440\u0430 "}),Object(L.jsx)("div",{className:nt.a.container,children:Object(L.jsx)(N.a,{dataSource:s,itemComponent:at,onItemClick:function(t){var e=t.itemData;Object(tt.a)(t,["itemData"]);I.setActiveUser(e),o(e.id)},children:Object(L.jsx)(B.MenuItem,{text:"Show Details",action:function(t){var e=t.itemData;Object(H.a)({message:"Name: ".concat(e.name," ID: ").concat(e.id),width:250,height:250,shading:!0},"info",2e3)}})})})]}))})),st=n(403),rt=function(t){Object(u.a)(n,t);var e=Object(d.a)(n);function n(){return Object(r.a)(this,n),e.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return Object(L.jsx)(st.a,{children:Object(L.jsxs)("div",{className:p.a.main,children:[Object(L.jsx)("div",{className:p.a.sidebar}),Object(L.jsx)("div",{className:p.a.content,children:Object(L.jsxs)(Q.d,{children:[Object(L.jsx)(Q.b,{exact:!0,path:"/",render:function(){return Object(L.jsx)(ot,{})}}),Object(L.jsx)(Q.b,{exact:!0,path:"/todos/:userId?",render:function(){return Object(L.jsx)($,{})}})]})})]})})}}]),n}(a.a.Component),it=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,562)).then((function(e){var n=e.getCLS,c=e.getFID,a=e.getFCP,o=e.getLCP,s=e.getTTFB;n(t),c(t),a(t),o(t),s(t)}))};s.a.render(Object(L.jsx)(a.a.StrictMode,{children:Object(L.jsx)(rt,{})}),document.getElementById("root")),it()}},[[545,1,2]]]);
//# sourceMappingURL=main.e2a3c130.chunk.js.map